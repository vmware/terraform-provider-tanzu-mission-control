---
Title: "Git Repository Data Source"
Description: |-
    Creating the Git Repository Data Source.
---

# Git Repository

The `tanzu-mission-control_git_repository` Data Source allows you to get git repository to a particular scope through Tanzu Mission Control.

Git repositories are used to store kustomizations that will be synced to your cluster.
To add a repository, you must be associated with the cluster.admin or clustergroup.admin role.

[git-repository]: https://techdocs.broadcom.com/us/en/vmware-tanzu/standalone-components/tanzu-mission-control/1-4/tanzu-mission-control-documentation/tanzumc-using-GUID-26C2D2F3-0E5C-4E56-B875-B7FB003267E4.html

## Git Repository Scope

In the Tanzu Mission Control resource hierarchy, there are two levels at which you can specify git repository resources:
- **object groups** - `cluster_group` block under `scope` sub-resource
- **Kubernetes objects** - `cluster` block under `scope` sub-resource

**Note:**
The scope parameter is mandatory in the schema and the user needs to add one of the defined scopes to the script for the provider to function.
Only one scope per resource is allowed.

## Cluster group scoped Git Repository

### Example Usage

```terraform
# Read Tanzu Mission Control git repository : fetch cluster group git repository details
resource "tanzu-mission-control_git_repository" "read_cluster_group_git_repository" {
  name = "tf-git-repository-name" # Required

  namespace_name = "tf-namespace" #Required

  scope {
    cluster_group {
      name = "default" # Required
    }
  }
}
```

## Cluster scoped Git Repository

### Example Usage

```terraform
# Read Tanzu Mission Control git repository : fetch cluster git repository details
resource "tanzu-mission-control_git_repository" "read_cluster_git_repository" {
  name = "tf-git-repository-name" # Required

  namespace_name = "tf-namespace" #Required

  scope {
    cluster {
      cluster_name            = "testcluster" # Required
      provisioner_name        = "attached"    # Default: attached
      management_cluster_name = "attached"    # Default: attached
    }
  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name of the Repository.
- `namespace_name` (String) Name of Namespace.
- `scope` (Block List, Min: 1, Max: 1) Scope for the git repository, having one of the valid scopes: cluster, cluster_group. (see [below for nested schema](#nestedblock--scope))

### Optional

- `meta` (Block List, Max: 1) Metadata for the resource (see [below for nested schema](#nestedblock--meta))

### Read-Only

- `id` (String) The ID of this resource.
- `spec` (List of Object) Spec for the Repository. (see [below for nested schema](#nestedatt--spec))
- `status` (Map of String) Status for the Repository.

<a id="nestedblock--scope"></a>
### Nested Schema for `scope`

Optional:

- `cluster` (Block List, Max: 1) The schema for cluster full name (see [below for nested schema](#nestedblock--scope--cluster))
- `cluster_group` (Block List, Max: 1) The schema for cluster group full name (see [below for nested schema](#nestedblock--scope--cluster_group))

<a id="nestedblock--scope--cluster"></a>
### Nested Schema for `scope.cluster`

Required:

- `name` (String) Name of this cluster

Optional:

- `management_cluster_name` (String) Name of the management cluster
- `provisioner_name` (String) Provisioner of the cluster


<a id="nestedblock--scope--cluster_group"></a>
### Nested Schema for `scope.cluster_group`

Required:

- `name` (String) Name of the cluster group



<a id="nestedblock--meta"></a>
### Nested Schema for `meta`

Optional:

- `annotations` (Map of String) Annotations for the resource
- `description` (String) Description of the resource
- `labels` (Map of String) Labels for the resource

Read-Only:

- `resource_version` (String) Resource version of the resource
- `uid` (String) UID of the resource


<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Read-Only:

- `git_implementation` (String)
- `interval` (String)
- `ref` (List of Object) (see [below for nested schema](#nestedobjatt--spec--ref))
- `secret_ref` (String)
- `url` (String)

<a id="nestedobjatt--spec--ref"></a>
### Nested Schema for `spec.ref`

Read-Only:

- `branch` (String)
- `commit` (String)
- `semver` (String)
- `tag` (String)
